<!DOCTYPE html>
<html lang="ko">
   <head>
      <meta charset="UTF-8" />
      <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <title>Document</title>
   </head>
   <body>
      <!-- 여기에 이메일을 입력하는 곳 -->
      <input type="text" />
      <!-- 결과를 보여줄 부분 -->
      <p></p>

      <script>
         // 입력창과 결과를 보여줄 <p>를 가져와서 변수로 저장
         const input = document.querySelector('input') //입력창
         const p = document.querySelector('p') //결과를 보여줄 부분

         //이메일인지 아닌지 판단하는 함수
         const isEmail = (Value) => {
            // '@'가 있고, '@' 뒤에 '.'이 있으면 이메일 형식이라고 판단

            // t@naver.com
            //alue.split('@') 실행 시 -> ['t', 'naver.com']

            // value.indexOf('@') > 1  ->  인덱스 배열로 가지고 옴 문자의 위치를 찾아냄
            // 이메일 주소에 '@'가 포함되어 있고, '@' 앞에 최소한 한 개 이상의 문자가 있어야 함을 의미

            // && -> ~고 (and)
            // value.split('@')

            // value.split('@')[1].indexOf('.') >= 1
            // 문자열을 '@'를 기준으로 나누고, 두 번째 부분(즉, '@' 뒤의 문자열)을 선택
            return value.indexOf('@') >= 1 && value.split('@')[1].indexOf('.') >= 1
         }

         // 사용자가 입력창에 글자를 입력할 때마다 실행되는 부분
         input.addEventListener('keyup', (event) => {
            const value = event.target.value //입력한 값을 가져온다

            // 입력한 값이 이메일 형식인지 확인
            if (isEmail(value)) {
               //이메일 형식이 맞다면
               p.style.color = 'green' //글자 색을 초록으로 변경
               p.textContent = `이메일 형식입니다: ${value}` //결과를 출력
            } else {
               //이메일 형식이 아니면
               p.style.color = 'red' //글자를 빨간색으로
               p.textContent = `이메일 형식이 아닙니다: ${value}` //이메일이 아니라고 알려줌
            }
         })
      </script>
   </body>
</html>
